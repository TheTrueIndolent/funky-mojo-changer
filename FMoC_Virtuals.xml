<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="FMoC_Virtuals.lua"/>
<!-- The Tabs Panel -->
	<Frame name="fmocTabsPanel" frameStrata="DIALOG" frameLevel="250" enableMouse="true" movable="true" clampedToScreen="true" dontSavePosition="true" hidden="true" virtual="true">
		<Size x="488" y="504"/>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-7">
				<Texture parentKey="BGtexture" atlas="Forge-Background">
					<Scripts>
						<OnLoad>
							self:SetDesaturation(0)
						</OnLoad>
					</Scripts>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="ExitButton" inherits="InsecureActionButtonTemplate" frameLevel="510">
				<Size x="16" y="16"/>
				<Anchors>
					<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-4" y="-4"/>
				</Anchors>
				<NormalTexture atlas="communities-icon-redx" desaturated="false" alpha="0.6"/>
				<PushedTexture atlas="communities-icon-redx" desaturated="true" alpha="0.4"/>
				<Scripts>
					<OnEnter>
						fmocEnteringMenus(self)
						GameTooltip:SetText("|A:"..C_AddOns.GetAddOnMetadata("FMoC", "IconAtlas")..":16:16|a "..fmocMainColor:WrapTextInColorCode(C_AddOns.GetAddOnMetadata("FMoC", "Title")).."|nClick: "..fmocMainColor:WrapTextInColorCode("Close this Panel!"))
					</OnEnter>
					<OnLeave>
						fmocLeavingMenus()
					</OnLeave>
					<OnClick>
						if button == "LeftButton" and down == false then
							self:GetParent():Hide()
						end
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnHide>
				PlaySound(858, "Master")
			</OnHide>
		</Scripts>
	</Frame>
<!-- The Tabs button -->
	<Button name="fmocTabsButton" inherits="InsecureActionButtonTemplate" frameLevel="500" virtual="true">
		<Size x="128" y="32"/>
		<ButtonText parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER"/>
		<NormalTexture atlas="common-gray-button-entrybox-center"/>
		<HighlightTexture atlas="Adventures_MissionList_Highlight" desaturated="true" alphaMode="ADD"/>
		<Layers>
			<Layer level="OVERLAY">
				<FontString parentKey="CenterTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" x="0" y="-16"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
			</Layer>
		</Layers>
	</Button>
<!-- The Options Panel -->
	<Frame name="fmocOptionsPanel" inherits="InsetFrameTemplate4" frameStrata="DIALOG" frameLevel="0" enableMouse="true" movable="true" clampedToScreen="true" dontSavePosition="true" hidden="true" virtual="true">
		<Size x="360" y="504"/>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-7">
				<Texture parentKey="BGtexture" atlas="Forge-Background" >
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetVertexColor(fmocMainColor:GetRGB())
							self:SetDesaturation(0)
						</OnLoad>
					</Scripts>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString parentKey="TitleTxt" font="Fonts\skurri.TTF" justifyV="MIDDLE" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativePoint="TOP" x="0" y="-14"/>
					</Anchors>
					<FontHeight val="22"/>
					<Shadow>
					  <Offset>
						<AbsDimension x="2" y="-2"/>
					  </Offset>
					  <Color r="0" g="0" b="0"/>
					</Shadow>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
							self:SetText(C_AddOns.GetAddOnMetadata("FMoC", "Title").."|nVersion: "..fmocHighColor:WrapTextInColorCode(C_AddOns.GetAddOnMetadata("FMoC", "Version")))
						</OnLoad>
					</Scripts>
				</FontString>
				<FontString parentKey="TopTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.TitleTxt" relativePoint="BOTTOM" x="0" y="-8"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
				<FontString parentKey="CenterTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER" x="0" y="-12"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
				<FontString parentKey="BottomTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
					<Anchors>
						<Anchor point="BOTTOM" relativePoint="BOTTOM" x="0" y="120"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
				<FontString parentKey="BottomRightTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="RIGHT">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-2" y="4"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
							self:SetText(C_AddOns.GetAddOnMetadata("FMoC", "X-Website"))
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
				<FontString parentKey="BottomLeftTxt" font="Game13FontShadow" justifyV="MIDDLE" justifyH="LEFT">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="4" y="4"/>
					</Anchors>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocMainColor:GetRGB())
							self:SetText("Created by: ".. C_AddOns.GetAddOnMetadata("FMoC", "Author"))
						</OnLoad>
						<OnShow>
							self:SetWidth(self:GetParent():GetWidth()*0.95)
						</OnShow>
					</Scripts>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow>
				PlaySound(855, "Master")
			</OnShow>
		</Scripts>
	</Frame>
<!-- Options Button -->
	<Button name="fmocOptionsButton" inherits="InsecureActionButtonTemplate" frameLevel="500" virtual="true">
		<Size x="128" y="34"/>
		<ButtonText parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
			<Scripts>
				<OnLoad>
					self:SetTextColor(fmocMainColor:GetRGB())
				</OnLoad>
			</Scripts>
		</ButtonText>
		<NormalTexture atlas="common-button-tertiary-normal-small" >
			<Scripts>
				<OnLoad>
					self:SetVertexColor(fmocMainColor:GetRGB())
					self:SetDesaturation(1)
				</OnLoad>
			</Scripts>
		</NormalTexture>
		<PushedTexture atlas="common-button-tertiary-pressed-small" >
			<Scripts>
				<OnLoad>
					self:SetVertexColor(fmocMainColor:GetRGB())
					self:SetDesaturation(1)
				</OnLoad>
			</Scripts>
		</PushedTexture>
		<HighlightTexture atlas="common-button-tertiary-hover-small" desaturated="false" alphaMode="ADD"/>
	</Button>
<!-- Options Box -->
	<Frame name="fmocOptionsBox" frameStrata="DIALOG" frameLevel="200" enableMouse="false" movable="true" clampedToScreen="true" dontSavePosition="true" hidden="false" virtual="true">
		<Layers>
			<Layer level="BORDER">
				<Texture parentKey="BorderTop" file="Interface\Common\ThinBorder2-Top">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="3" y="0"/>
						<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-3" y="0"/>
					</Anchors>
					<Size y="4"/>
					<Scripts>
						<OnLoad>
							self:SetVertexColor(fmocMainColor:GetRGB())
						</OnLoad>
					</Scripts>
				</Texture>
				<Texture parentKey="BorderBottom" file="Interface\Common\ThinBorder2-Top">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMLEFT" x="3" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-3" y="0"/>
					</Anchors>
					<Size y="4"/>
					<Scripts>
						<OnLoad>
							self:SetVertexColor(fmocMainColor:GetRGB())
						</OnLoad>
					</Scripts>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString parentKey="TitleTxt" font="Fonts\skurri.TTF" justifyV="MIDDLE" justifyH="CENTER" >
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP" x="0" y="-6"/>
					</Anchors>
					<FontHeight val="16"/>
					<Shadow>
					  <Offset>
						<AbsDimension x="2" y="-2"/>
					  </Offset>
					  <Color r="0" g="0" b="0"/>
					</Shadow>
					<Scripts>
						<OnLoad>
							self:SetTextColor(fmocHighColor:GetRGB())
						</OnLoad>
					</Scripts>
				</FontString>
			</Layer>
		</Layers>
	</Frame>
<!--Options Slider -->	
	<Frame name="fmocSlider" inherits="MinimalSliderWithSteppersTemplate" frameLevel="510" virtual="true">
		<Scripts>
			<OnLoad>
				CallbackRegistryMixin.OnLoad(self)
				local forward = false
				self.Back:SetScript("OnClick", GenerateClosure(self.OnStepperClicked, self, forward))
				local backward = true
				self.Forward:SetScript("OnClick", GenerateClosure(self.OnStepperClicked, self, backward))
				self:SetScale(1)
				self.Slider.Thumb:SetVertexColor(fmocMainColor:GetRGB())
				self.Back:GetRegions():SetVertexColor(fmocMainColor:GetRGB())
				self.Back:SetHighlightAtlas("Minimal_SliderBar_Button_Left", "ADD")
				self.Forward:GetRegions():SetVertexColor(fmocMainColor:GetRGB())
				self.Forward:SetHighlightAtlas("Minimal_SliderBar_Button_Right", "ADD")
				self.TopText:Show()
				self.TopText:SetTextColor(fmocMainColor:GetRGB())
				self.MinText:Show()
				self.MinText:SetTextColor(fmocMainColor:GetRGB())
				self.MaxText:Show()
				self.MaxText:SetTextColor(fmocMainColor:GetRGB())
				self.Slider:SetValueStep(1)
			</OnLoad>
		</Scripts>
	</Frame>
<!-- Options Check Button -->
	<CheckButton name="fmocCheckButton" inherits="SettingsCheckBoxTemplate" frameLevel="510" virtual="true">
		<Size x="22" y="22"/>
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="LEFT" >
					<Anchors>
						<Anchor point="LEFT" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<HighlightTexture file="Interface\Buttons\UI-CheckBox-Highlight.blp" alphaMode="ADD"/>
	</CheckButton>
<!-- Options Pop Out -->
	<Button name="fmocPopOut" frameStrata="DIALOG" frameLevel="750" virtual="true">
		<Size x="176" y="32" />
		<ButtonText parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER">
			<Scripts>
				<OnLoad>
					self:SetTextColor(fmocMainColor:GetRGB())
				</OnLoad>
			</Scripts>
		</ButtonText>
		<NormalTexture parentKey="NormalTexture" atlas="charactercreate-customize-dropdownbox-open">
			<Scripts>
				<OnLoad>
					self:SetVertexColor(fmocMainColor:GetRGB())
				</OnLoad>
			</Scripts>
		</NormalTexture>
		<PushedTexture atlas="charactercreate-customize-dropdownbox"/>
		<HighlightTexture atlas="charactercreate-customize-dropdownbox-hover" alphaMode="ADD"/>
		<Frames>
<!-- Choice 0 -->
			<Button name="$parentChoice0" inherits="InsecureActionButtonTemplate" hidden="true">
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" x="0" y="4"/>
				</Anchors>
				<Size x="160" y="24"/>
				<ButtonText parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER"/>
				<NormalTexture atlas="AftLevelup-ToastBG"/>
				<HighlightTexture atlas="Adventures_MissionList_Highlight" desaturated="true" alphaMode="ADD"/>
				<Scripts>
					<OnShow>
						self:GetParent():SetNormalAtlas("charactercreate-customize-dropdownbox-hover")
					</OnShow>
					<OnHide>
						self:GetParent():SetNormalAtlas("charactercreate-customize-dropdownbox-open")
						PlaySound(858, "Master")
					</OnHide>
				</Scripts>
			</Button>
		</Frames>
	</Button>
<!-- Pop Out Button -->
	<Button name="fmocPopOutButton" frameStrata="DIALOG" frameLevel="750" virtual="true">
		<Size x="160" y="24"/>
		<ButtonText parentKey="Text" font="Game13FontShadow" justifyV="MIDDLE" justifyH="CENTER"/>
		<NormalTexture atlas="AftLevelup-ToastBG"/>
		<HighlightTexture atlas="Adventures_MissionList_Highlight" desaturated="true" alphaMode="ADD"/>
	</Button>
<!-- Edit Box -->
	<Frame name="fmocEditBox" inherits="GlowBoxTemplate" frameStrata="DIALOG" frameLevel="510" enableMouse="true" clampedToScreen="true" virtual="true">
		<Size x="256" y="16"/>
		<Frames>
			<EditBox parentKey="WritingLine" inherits="InputBoxScriptTemplate" frameStrata="DIALOG" font="GameFontHighlight" letters="0" blinkSpeed="0.5" numeric="false" alphabeticOnly="false" password="false" multiLine="0" historyLines="0" autoFocus="false" ignoreArrows="false" countInvisibleLetters="false" invisibleBytes="nil">
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER" x="0" y="0"/>
				</Anchors>
			</EditBox>
		</Frames>
		<Scripts>
			<OnLoad>
				self["GlowTopLeft"]:SetDesaturation(1)
				self["GlowTopLeft"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowTopRight"]:SetDesaturation(1)
				self["GlowTopRight"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowBottomLeft"]:SetDesaturation(1)
				self["GlowBottomLeft"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowBottomRight"]:SetDesaturation(1)
				self["GlowBottomRight"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowTop"]:SetDesaturation(1)
				self["GlowTop"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowBottom"]:SetDesaturation(1)
				self["GlowBottom"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowLeft"]:SetDesaturation(1)
				self["GlowLeft"]:SetVertexColor(fmocMainColor:GetRGB())
				self["GlowRight"]:SetDesaturation(1)
				self["GlowRight"]:SetVertexColor(fmocMainColor:GetRGB())
			</OnLoad>
		</Scripts>
	</Frame>
<!-- Spec Button -->
	<Button name="fmocButtonSpec" inherits="InsecureActionButtonTemplate" frameStrata="BACKGROUND" frameLevel="0" movable="true" dontSavePosition="true" clampedToScreen="true" hidden="true" virtual="true">
		<PushedTexture parentKey="Pushed" atlas="talents-node-choiceflyout-circle-yellow">
			<Anchors>
				<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
				<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
			</Anchors>
		</PushedTexture>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Background" atlas="Artifacts-PerkRing-WhiteGlow" desaturated="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture atlas="talents-node-choiceflyout-circle-yellow" desaturated="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture name="$parentCircle" atlas="orderhalltalents-done-glow" alphaMode="BLEND" alpha="0.9" desaturated="true" hidden="true">
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Animations>
			<AnimationGroup parentKey="Animation" setToFinalAlpha="true">				
				<Rotation parentKey="Wirls" order="1" startDelay="0" degrees="-1080" target="$parentCircle">
					<Scripts>
						<OnPlay>
							self:GetTarget():Show()
						</OnPlay>
						<OnFinished>
							self:GetTarget():Hide()
						</OnFinished>
						<OnStop>
							self:GetTarget():Hide()
						</OnStop>
					</Scripts>
				</Rotation>
			</AnimationGroup>
		</Animations>
	</Button>
<!-- Loot Button  -->
	<Button name="fmocButtonLoot" inherits="InsecureActionButtonTemplate" frameStrata="BACKGROUND" frameLevel="0" movable="true" dontSavePosition="true" clampedToScreen="true" virtual="true">
		<PushedTexture parentKey="Pushed" atlas="talents-node-choiceflyout-square-yellow">
			<Anchors>
				<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
				<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
			</Anchors>
		</PushedTexture>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Background" atlas="hud-backpack" desaturated="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture atlas="talents-node-choiceflyout-square-yellow" desaturated="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>
</Ui>
